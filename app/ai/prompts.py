MUSCLE_GROUPS_COMBINED = [
    "–≥—Ä—É–¥—å –∏ —Ä—É–∫–∏",
    "—Å–ø–∏–Ω–∞ –∏ –ø–ª–µ—á–∏",
    "–ø—Ä–µ—Å—Å –∏ –∫–æ—Ä–ø—É—Å"
]

MUSCLE_GROUPS_SINGLE = [
    "–≥—Ä—É–¥—å",
    "—Å–ø–∏–Ω–∞",
    "–Ω–æ–≥–∏",
    "–ø–ª–µ—á–∏",
    "—Ä—É–∫–∏",
    "–ø—Ä–µ—Å—Å"
]

PRO_MUSCLE_GROUPS_MEN = [
    "–ü–ª–µ—á–∏",
    "–°–ø–∏–Ω–∞",
    "–ì—Ä—É–¥–Ω—ã–µ ‚Äî –≤–µ—Ä—Ö",
    "–ì—Ä—É–¥–Ω—ã–µ ‚Äî —Å–µ—Ä–µ–¥–∏–Ω–∞",
    "–ì—Ä—É–¥–Ω—ã–µ ‚Äî –Ω–∏–∑",
    "–ü—Ä–µ—Å—Å",
    "–†—É–∫–∏ ‚Äî –±–∏—Ü–µ–ø—Å",
    "–†—É–∫–∏ ‚Äî —Ç—Ä–∏—Ü–µ–ø—Å",
    "–ù–æ–≥–∏",
    "–Ø–≥–æ–¥–∏—Ü—ã –∏ –ø–æ—è—Å–Ω–∏—Ü–∞",
    "–ö–∞—Ä–¥–∏–æ",
    "–û–±—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å",
]

PRO_MUSCLE_GROUPS_WOMEN = [
    "–Ø–≥–æ–¥–∏—Ü—ã",
    "–ë—ë–¥—Ä–∞",
    "–ü—Ä–µ—Å—Å –∏ –∫–æ—Å—ã–µ –º—ã—à—Ü—ã –∂–∏–≤–æ—Ç–∞",
    "–ü–ª–µ—á–∏",
    "–°–ø–∏–Ω–∞ (–≤–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å)",
    "–†—É–∫–∏",
    "–ö–∞—Ä–¥–∏–æ",
    "–û–±—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å",
]

PRO_MUSCLE_SETS_MEN = [
    ["–ì—Ä—É–¥–Ω—ã–µ ‚Äî –≤–µ—Ä—Ö", "–†—É–∫–∏ ‚Äî –±–∏—Ü–µ–ø—Å"],
    ["–°–ø–∏–Ω–∞", "–ü–ª–µ—á–∏"],
    ["–ì—Ä—É–¥–Ω—ã–µ ‚Äî –Ω–∏–∑", "–†—É–∫–∏ ‚Äî —Ç—Ä–∏—Ü–µ–ø—Å"],
    ["–ù–æ–≥–∏", "–Ø–≥–æ–¥–∏—Ü—ã –∏ –ø–æ—è—Å–Ω–∏—Ü–∞"],
    ["–ü—Ä–µ—Å—Å", "–ö–∞—Ä–¥–∏–æ"],
    ["–û–±—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å"],
]

PRO_MUSCLE_SETS_WOMEN = [
    ["–Ø–≥–æ–¥–∏—Ü—ã", "–ë—ë–¥—Ä–∞"],
    ["–ü—Ä–µ—Å—Å –∏ –∫–æ—Å—ã–µ –º—ã—à—Ü—ã –∂–∏–≤–æ—Ç–∞", "–ö–∞—Ä–¥–∏–æ"],
    ["–ü–ª–µ—á–∏", "–†—É–∫–∏"],
    ["–°–ø–∏–Ω–∞ (–≤–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å)", "–ü–ª–µ—á–∏"],
    ["–û–±—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å"],
]

WORKOUT_SPLITS = {
    1: ["–æ–±—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å"],
    2: ["–≤–µ—Ä—Ö", "–Ω–∏–∑"],
    3: ["–≥—Ä—É–¥—å", "—Å–ø–∏–Ω–∞", "–Ω–æ–≥–∏"],
    4: ["–≥—Ä—É–¥—å", "—Å–ø–∏–Ω–∞", "–Ω–æ–≥–∏", "–ø–ª–µ—á–∏"],
    5: ["–≥—Ä—É–¥—å", "—Å–ø–∏–Ω–∞", "–Ω–æ–≥–∏", "–ø–ª–µ—á–∏", "—Ä—É–∫–∏"]
}

SPLIT_DESCRIPTIONS = {
    1: "–û–±—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å (1 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤ –Ω–µ–¥–µ–ª—é)",
    2: "–í–µ—Ä—Ö/–ù–∏–∑ (2 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –Ω–µ–¥–µ–ª—é)",
    3: "–ì—Ä—É–¥—å/–°–ø–∏–Ω–∞/–ù–æ–≥–∏ (3 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –Ω–µ–¥–µ–ª—é)",
    4: "–ì—Ä—É–¥—å/–°–ø–∏–Ω–∞/–ù–æ–≥–∏/–ü–ª–µ—á–∏ (4 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –Ω–µ–¥–µ–ª—é)",
    5: "–ì—Ä—É–¥—å/–°–ø–∏–Ω–∞/–ù–æ–≥–∏/–ü–ª–µ—á–∏/–†—É–∫–∏ (5+ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –≤ –Ω–µ–¥–µ–ª—é)"
}

TIP_TYPES = [
    "—Ñ–∏—Ç–Ω–µ—Å –∏ —Ç–µ—Ö–Ω–∏–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π",
    "–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–∏—Ç–∞–Ω–∏–∏ –∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏",
    "–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏ —Å–Ω–µ",
    "–º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–π",
    "–ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–µ —Ç—Ä–∞–≤–º –∏ —Ä–∞–∑–º–∏–Ω–∫–µ"
]


def build_workout_structured_prompt(
    user: dict,
    muscle_group: str,
    split_info: str,
    superset_info: str,
    workout_history_info: str,
    exercises_info: str,
) -> str:
    # –í–ê–ñ–ù–û: –§—Ä–æ–Ω—Ç –æ–∂–∏–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É 1-–≤-1 –ø–æ–¥ UI (–º—ã—à—Ü—ã + —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –≤–µ—Å/–ø–æ–¥—Ö–æ–¥—ã/–ø–æ–≤—Ç–æ—Ä—ã).
    # –ü—Ä–æ—Å–∏–º AI –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ JSON, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –º—É—Å–æ—Ä–∞ –≤–æ–∫—Ä—É–≥.
    return f"""–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä. –°–æ—Å—Ç–∞–≤—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –°–¢–†–û–ì–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–±–µ–∑ Markdown, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π).

–î–ê–ù–ù–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:
–¶–µ–ª—å: {user.get('goal', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–£—Ä–æ–≤–µ–Ω—å: {user.get('level', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: {user.get('health_issues', '–Ω–µ—Ç')}
–ú–µ—Å—Ç–æ –∑–∞–Ω—è—Ç–∏–π: {user.get('location', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–ß–∞—Å—Ç–æ—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (–∏–∑ –∞–Ω–∫–µ—Ç—ã): {user.get('workouts_per_week', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} —Ä–∞–∑/–Ω–µ–¥
–í—Ä–µ–º—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É: {user.get('workout_duration', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: {user.get('equipment', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–§–æ—Ä–º–∞—Ç—ã: {user.get('workout_formats', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–†–æ—Å—Ç: {user.get('height', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} —Å–º, –í–µ—Å: {user.get('weight', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} –∫–≥, –í–æ–∑—Ä–∞—Å—Ç: {user.get('age', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}, –ü–æ–ª: {user.get('gender', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}

{split_info}
{superset_info}
{workout_history_info}
{exercises_info}

–¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö JSON:
–í–µ—Ä–Ω–∏ –æ–±—ä–µ–∫—Ç —Ç–∞–∫–æ–≥–æ –≤–∏–¥–∞:
{{
  "version": 1,
  "title": "–ö–æ—Ä–æ—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏",
  "muscle_groups": ["–°–ø–∏–Ω–∞", "–ü–ª–µ—á–∏"],
  "exercises": [
    {{"name": "–ù–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è", "weight_kg": 4, "sets": 3, "reps": 12}}
  ],
  "calories_burned": 320
}}

–û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:
- muscle_groups: 1‚Äì2 –≥—Ä—É–ø–ø—ã –º—ã—à—Ü, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–Ω—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: {muscle_group}
- exercises: 5‚Äì8 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- sets: 2‚Äì6
- reps: –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π: 5, 8, 10, 12, 15
- weight_kg: –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π: 2, 4, 6, 8, 10, 12, 16, 20, 25, 30, 40, 50 (–µ—Å–ª–∏ –≤–µ—Å –Ω–µ –Ω—É–∂–µ–Ω ‚Äî —Å—Ç–∞–≤—å 0)
- calories_burned: —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –æ—Ü–µ–Ω–∫–∞ —Å–æ–∂–∂–µ–Ω–Ω—ã—Ö –∫–∞–ª–æ—Ä–∏–π –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É

–ü–†–ê–í–ò–õ–ê:
- –ù–µ –¥–æ–±–∞–≤–ª—è–π —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ –≥—Ä—É–ø–ø—ã –º—ã—à—Ü, –∫—Ä–æ–º–µ {muscle_group}
- –£—á–∏—Ç—ã–≤–∞–π –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ò–∑–±–µ–≥–∞–π –ø–æ–≤—Ç–æ—Ä–æ–≤ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
- –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û JSON (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ ‚Äî –Ω–µ –≤–∞–∂–Ω–æ)"""


def build_workout_single_exercise_prompt(
    user: dict,
    muscle_group: str,
    superset_info: str,
    workout_history_info: str,
    existing_exercise_names: list[str],
) -> str:
    existing = ", ".join(existing_exercise_names[:12])
    return f"""–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –û–î–ù–û —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –°–¢–†–û–ì–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–±–µ–∑ Markdown, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π).

–î–ê–ù–ù–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:
–¶–µ–ª—å: {user.get('goal', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–£—Ä–æ–≤–µ–Ω—å: {user.get('level', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: {user.get('health_issues', '–Ω–µ—Ç')}
–ú–µ—Å—Ç–æ –∑–∞–Ω—è—Ç–∏–π: {user.get('location', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–í—Ä–µ–º—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É: {user.get('workout_duration', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: {user.get('equipment', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}
–§–æ—Ä–º–∞—Ç—ã: {user.get('workout_formats', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}

–°–µ–≥–æ–¥–Ω—è —Ç—Ä–µ–Ω–∏—Ä—É–µ–º: {muscle_group}.
{superset_info}
{workout_history_info}

–£–ñ–ï –ï–°–¢–¨ –í –¢–†–ï–ù–ò–†–û–í–ö–ï (–∏–∑–±–µ–≥–∞–π –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é): {existing}

–§–û–†–ú–ê–¢ JSON:
{{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",
  "weight_kg": 4,
  "sets": 3,
  "reps": 12
}}

–û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:
- –¢–û–õ–¨–ö–û –Ω–∞ –≥—Ä—É–ø–ø—ã –º—ã—à—Ü: {muscle_group}
- sets: 2‚Äì6
- reps: –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π: 5, 8, 10, 12, 15
- weight_kg: –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π: 2, 4, 6, 8, 10, 12, 16, 20, 25, 30, 40, 50 (–µ—Å–ª–∏ –≤–µ—Å –Ω–µ –Ω—É–∂–µ–Ω ‚Äî —Å—Ç–∞–≤—å 0)

–ü–†–ê–í–ò–õ–ê:
- –£—á–∏—Ç—ã–≤–∞–π –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –í–æ–∑–≤—Ä–∞—â–∞–π –¢–û–õ–¨–ö–û JSON"""

def build_workout_prompt(
    user: dict,
    muscle_group: str,
    exercise_count: int,
    tip_type: str,
    split_info: str,
    superset_info: str,
    workout_history_info: str,
    exercises_info: str
) -> str:
    return f"""–¢—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∏—Ç–Ω–µ—Å—Å-—Ç—Ä–µ–Ω–µ—Ä. –°–µ–≥–æ–¥–Ω—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–µ–Ω—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: {muscle_group}. 
–°–æ—Å—Ç–∞–≤—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã –º—ã—à—Ü, –Ω–µ –¥–æ–±–∞–≤–ª—è–π —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ –≥—Ä—É–ø–ø—ã. 
–£—á–∏—Ç—ã–≤–∞–π —Ü–µ–ª—å, —É—Ä–æ–≤–µ–Ω—å, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, —á–∞—Å—Ç–æ—Ç—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –≤—Ä–µ–º—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –¥–æ—Å—Ç—É–ø–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã, —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –º–µ—Å—Ç–æ –∑–∞–Ω—è—Ç–∏–π.

–¶–µ–ª—å: {user.get('goal', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. 
–£—Ä–æ–≤–µ–Ω—å: {user.get('level', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. 
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: {user.get('health_issues', '–Ω–µ—Ç')}. 
–ú–µ—Å—Ç–æ –∑–∞–Ω—è—Ç–∏–π: {user.get('location', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. 
–ß–∞—Å—Ç–æ—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (–∏–∑ –∞–Ω–∫–µ—Ç—ã): {user.get('workouts_per_week', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é. 
–í—Ä–µ–º—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É: {user.get('workout_duration', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. 
–î–æ—Å—Ç—É–ø–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: {user.get('equipment', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. 
–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫: {user.get('workout_formats', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. 
–†–æ—Å—Ç: {user.get('height', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} —Å–º. –í–µ—Å: {user.get('weight', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} –∫–≥. –í–æ–∑—Ä–∞—Å—Ç: {user.get('age', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. –ü–æ–ª: {user.get('gender', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}. 

{split_info}
{superset_info}
{workout_history_info}
{exercises_info}

–í–ê–ñ–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: {user.get('equipment', '—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ—Å')}
‚Ä¢ –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Å—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: {user.get('workout_formats', '–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å–∏–ª–æ–≤–∞—è')}
‚Ä¢ –£–ª–æ–∂–∏—Å—å –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è: {user.get('workout_duration', '30-45 –º–∏–Ω—É—Ç')}
‚Ä¢ –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–±–µ–≥–∞–π –ø–æ–≤—Ç–æ—Ä–æ–≤ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ, –Ω–æ –µ—Å–ª–∏ –±–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏, –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —Å –≤–∞—Ä–∏–∞—Ü–∏–µ–π

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Ä–æ–≤–Ω–æ {exercise_count} —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π (–ø–æ—Å–ª–µ–¥–Ω–µ–µ ‚Äî –∫–∞—Ä–¥–∏–æ –∏–ª–∏ –∑–∞–º–∏–Ω–∫–∞). –°–¥–µ–ª–∞–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –≤–Ω—É—Ç—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã –º—ã—à—Ü.
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–π –≤–µ—Å (–¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ—Å ‚Äî –ø–∏—à–∏ —è–≤–Ω–æ).

–§–æ—Ä–º–∞—Ç–∏—Ä—É–π –æ—Ç–≤–µ—Ç —Å—Ç—Ä–æ–≥–æ —Ç–∞–∫:
–°–æ–≤–µ—Ç –¥–Ω—è: [–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–æ–≤–µ—Ç –æ {tip_type}, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ü–µ–ª—å ({user.get('goal', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}), —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ ({user.get('level', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')}) –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –°–æ–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–º –∏ –ø—Ä–∏–º–µ–Ω–∏–º—ã–º]

–ü–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è: {muscle_group}

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π —Ç–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç:
[–ù–æ–º–µ—Ä]. [–ù–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è]
[–∫–æ–ª-–≤–æ –ø–æ–¥—Ö–æ–¥–æ–≤ √ó –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π ‚Äî –≤–µ—Å]
*–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ —Ç–µ—Ö–Ω–∏–∫–µ –∏–ª–∏ —Å–æ–≤–µ—Ç*

–ü–æ—Å–ª–µ–¥–Ω–µ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –∫–∞—Ä–¥–∏–æ –∏–ª–∏ –∑–∞–º–∏–Ω–∫–∞, —É–∫–∞–∑—ã–≤–∞–π –µ–≥–æ –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ.

–ù–µ –¥–æ–±–∞–≤–ª—è–π –ª–∏—à–Ω–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π –≤–Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–ª–∞–Ω–∞."""


FOOD_ANALYSIS_PROMPT = """–û–ø—Ä–µ–¥–µ–ª–∏, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ –Ω–∞ —Ñ–æ—Ç–æ, –∏ –æ—Ü–µ–Ω–∏ –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –±–ª—é–¥–∞. 
–í–µ—Ä–Ω–∏ JSON –≤–∏–¥–∞: {"description": "...", "calories": ..., "proteins": ..., "fats": ..., "carbs": ...}. 
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏ –ë–ñ–£ (–±–µ–ª–∫–∏, –∂–∏—Ä—ã, —É–≥–ª–µ–≤–æ–¥—ã) –≤ –≥—Ä–∞–º–º–∞—Ö. 
–û—Ç–≤–µ—á–∞–π –≤—Å–µ–≥–¥–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ."""


FOOD_CLARIFICATION_PROMPT = """–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å–ª–∞–ª —Ñ–æ—Ç–æ –µ–¥—ã. –í–æ—Ç –µ–≥–æ —É—Ç–æ—á–Ω–µ–Ω–∏–µ: '{clarification}'. 
–û–ø—Ä–µ–¥–µ–ª–∏, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ –Ω–∞ —Ñ–æ—Ç–æ, –∏ –æ—Ü–µ–Ω–∏ –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –±–ª—é–¥–∞ —Å —É—á—ë—Ç–æ–º —É—Ç–æ—á–Ω–µ–Ω–∏—è. 
–í–µ—Ä–Ω–∏ JSON –≤–∏–¥–∞: {{"description": "...", "calories": ..., "proteins": ..., "fats": ..., "carbs": ...}}. 
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏ –ë–ñ–£ (–±–µ–ª–∫–∏, –∂–∏—Ä—ã, —É–≥–ª–µ–≤–æ–¥—ã) –≤ –≥—Ä–∞–º–º–∞—Ö. 
–û—Ç–≤–µ—á–∞–π –≤—Å–µ–≥–¥–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ."""


DAILY_MENU_SYSTEM_PROMPT = "–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–∏–µ—Ç–æ–ª–æ–≥. –°–æ–∑–¥–∞—ë—à—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ä–∞—Ü–∏–æ–Ω—ã –Ω–∞ –¥–µ–Ω—å. –û—Ç–≤–µ—á–∞–π –≤—Å–µ–≥–¥–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ."

SHOPPING_LIST_SYSTEM_PROMPT = "–¢—ã –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—é —Å–ø–∏—Å–∫–æ–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤. –û—Ç–≤–µ—á–∞–π –≤—Å–µ–≥–¥–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ."


def build_daily_menu_prompt(user: dict, nutrition_plan: dict) -> str:
	user_info = f"""
–§–∏–∑–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:
- –ü–æ–ª: {user.get('gender', '–Ω–µ —É–∫–∞–∑–∞–Ω')}
- –í–æ–∑—Ä–∞—Å—Ç: {user.get('age', '–Ω–µ —É–∫–∞–∑–∞–Ω')}
- –†–æ—Å—Ç: {user.get('height', '–Ω–µ —É–∫–∞–∑–∞–Ω')} —Å–º
- –í–µ—Å: {user.get('weight', '–Ω–µ —É–∫–∞–∑–∞–Ω')} –∫–≥
- –¶–µ–ª—å —Ñ–∏—Ç–Ω–µ—Å–∞: {user.get('goal', '–Ω–µ —É–∫–∞–∑–∞–Ω–∞')}
- –£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: {user.get('level', '–Ω–µ —É–∫–∞–∑–∞–Ω')}
- –ß–∞—Å—Ç–æ—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫: {user.get('workouts_per_week', '–Ω–µ —É–∫–∞–∑–∞–Ω–∞')} —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞–Ω–∞ –ø–∏—Ç–∞–Ω–∏—è:
- –¶–µ–ª—å –ø–∏—Ç–∞–Ω–∏—è: {nutrition_plan.get('nutrition_goal', '')}
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: {nutrition_plan.get('dietary_restrictions', '')}
- –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è: {nutrition_plan.get('meal_preferences', '')}
- –í—Ä–µ–º—è –Ω–∞ –≥–æ—Ç–æ–≤–∫—É: {nutrition_plan.get('cooking_time', '')}
- –ë—é–¥–∂–µ—Ç: {nutrition_plan.get('budget', '')}
""".strip()

	target_kbju = ""
	if nutrition_plan.get("target_calories"):
		target_kbju = f"""
–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:
- –ö–∞–ª–æ—Ä–∏–∏: {nutrition_plan.get('target_calories')} –∫–∫–∞–ª
- –ë–µ–ª–∫–∏: {nutrition_plan.get('target_proteins', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} –≥
- –ñ–∏—Ä—ã: {nutrition_plan.get('target_fats', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} –≥
- –£–≥–ª–µ–≤–æ–¥—ã: {nutrition_plan.get('target_carbs', '–Ω–µ —É–∫–∞–∑–∞–Ω–æ')} –≥
""".strip()

	return f"""
–°–æ–∑–¥–∞–π –ù–û–í–´–ô —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Ä–∞—Ü–∏–æ–Ω –Ω–∞ –¥–µ–Ω—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

{user_info}
{target_kbju}

–°–æ–∑–¥–∞–π —Ä–∞—Ü–∏–æ–Ω –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

üìä **–¶–ï–õ–ï–í–´–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò –ù–ê –î–ï–ù–¨:**
–ö–∞–ª–æ—Ä–∏–∏: {nutrition_plan.get('target_calories', '—Ä–∞—Å—Å—á–∏—Ç–∞–π')} –∫–∫–∞–ª
–ë–µ–ª–∫–∏: {nutrition_plan.get('target_proteins', '—Ä–∞—Å—Å—á–∏—Ç–∞–π')} –≥
–ñ–∏—Ä—ã: {nutrition_plan.get('target_fats', '—Ä–∞—Å—Å—á–∏—Ç–∞–π')} –≥
–£–≥–ª–µ–≤–æ–¥—ã: {nutrition_plan.get('target_carbs', '—Ä–∞—Å—Å—á–∏—Ç–∞–π')} –≥

ü•ó **–†–ê–¶–ò–û–ù –ù–ê –°–ï–ì–û–î–ù–Ø:**

**–ó–ê–í–¢–†–ê–ö (7:00-9:00):**
‚Ä¢ [–ë–ª—é–¥–æ 1] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª, –ë[–±–µ–ª–∫–∏]–≥/–ñ[–∂–∏—Ä—ã]–≥/–£[—É–≥–ª–µ–≤–æ–¥—ã]–≥
‚Ä¢ [–ë–ª—é–¥–æ 2] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª, –ë[–±–µ–ª–∫–∏]–≥/–ñ[–∂–∏—Ä—ã]–≥/–£[—É–≥–ª–µ–≤–æ–¥—ã]–≥

**–û–ë–ï–î (12:00-14:00):**
‚Ä¢ [–ë–ª—é–¥–æ 1] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª, –ë[–±–µ–ª–∫–∏]–≥/–ñ[–∂–∏—Ä—ã]–≥/–£[—É–≥–ª–µ–≤–æ–¥—ã]–≥
‚Ä¢ [–ë–ª—é–¥–æ 2] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª, –ë[–±–µ–ª–∫–∏]–≥/–ñ[–∂–∏—Ä—ã]–≥/–£[—É–≥–ª–µ–≤–æ–¥—ã]–≥

**–£–ñ–ò–ù (18:00-20:00):**
‚Ä¢ [–ë–ª—é–¥–æ 1] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª, –ë[–±–µ–ª–∫–∏]–≥/–ñ[–∂–∏—Ä—ã]–≥/–£[—É–≥–ª–µ–≤–æ–¥—ã]–≥
‚Ä¢ [–ë–ª—é–¥–æ 2] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª, –ë[–±–µ–ª–∫–∏]–≥/–ñ[–∂–∏—Ä—ã]–≥/–£[—É–≥–ª–µ–≤–æ–¥—ã]–≥

**–ü–ï–†–ï–ö–£–°–´:**
‚Ä¢ [–ü–µ—Ä–µ–∫—É—Å 1] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª
‚Ä¢ [–ü–µ—Ä–µ–∫—É—Å 2] - [–∫–∞–ª–æ—Ä–∏–∏] –∫–∫–∞–ª

üí° **–°–û–í–ï–¢ –î–ù–Ø:**
[–ü—Ä–∞–∫—Ç–∏—á–Ω—ã–π —Å–æ–≤–µ—Ç –ø–æ –ø–∏—Ç–∞–Ω–∏—é –∏–ª–∏ –≥–æ—Ç–æ–≤–∫–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è]

–í–ê–ñ–ù–û:
1. –ö–∞–∂–¥—ã–π —Ä–∞–∑ —Å–æ–∑–¥–∞–≤–∞–π –†–ê–ó–ù–´–ï –±–ª—é–¥–∞ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
2. –£—á–∏—Ç—ã–≤–∞–π –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
3. –ü–æ–¥–±–µ—Ä–∏ –±–ª—é–¥–∞ –ø–æ–¥ –±—é–¥–∂–µ—Ç –∏ –≤—Ä–µ–º—è –≥–æ—Ç–æ–≤–∫–∏
4. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏ –ö–ë–ñ–£ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª—é–¥–∞
5. –ë–ª—é–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏–º—ã–º–∏
""".strip()


def build_shopping_list_prompt(daily_menu: str) -> str:
	return f"""
–ù–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞—Ü–∏–æ–Ω–∞ —Å–æ–∑–¥–∞–π —É–¥–æ–±–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏:

{daily_menu}

–°–æ–∑–¥–∞–π —Å–ø–∏—Å–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

üõí **–°–ü–ò–°–û–ö –ü–†–û–î–£–ö–¢–û–í:**

**–ú–Ø–°–û –ò –†–´–ë–ê:**
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]

**–ú–û–õ–û–ß–ù–´–ï –ü–†–û–î–£–ö–¢–´:**
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]

**–û–í–û–©–ò –ò –§–†–£–ö–¢–´:**
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]

**–ö–†–£–ü–´ –ò –ú–ê–ö–ê–†–û–ù–´:**
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]

**–î–†–£–ì–û–ï:**
‚Ä¢ [–ü—Ä–æ–¥—É–∫—Ç] - [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]

üí∞ **–ü–†–ò–ú–ï–†–ù–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨:** [—Å—É–º–º–∞] ‚ÇΩ

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
1. –£–∫–∞–∑—ã–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (–≥—Ä–∞–º–º—ã, —à—Ç—É–∫–∏, –ø–∞—á–∫–∏)
2. –ì—Ä—É–ø–ø–∏—Ä—É–π –ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ –æ—Ç–¥–µ–ª–∞–º –º–∞–≥–∞–∑–∏–Ω–∞
3. –£—á–∏—Ç—ã–≤–∞–π —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–º–∞
4. –î–æ–±–∞–≤—å –ø—Ä–∏–º–µ—Ä–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏
5. –¢–æ–ª—å–∫–æ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ —Ä–∞—Ü–∏–æ–Ω–∞ –≤—ã—à–µ
""".strip()

